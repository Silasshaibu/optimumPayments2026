
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>

        <link rel="stylesheet" href="../assets/css/style-guide.css">
    </head>
    <body>
        
    </body>
    </html>
    
    <!-- Home Hero Carousel End -->
    <div class="carousel-homeHero">
        <!-- your carousel code -->


    <!-- Home Hero Carousel Start -->
    <div id="home-hero" class="carousel-window-homeHero">

        <div class="carousel-indicator-homeHero">
        <!-- dots will be generated by JS -->
        </div>

        <div class="carousel-wrapper-homeHero">
            <div class="slide-homeHero" data-bg="3">
                <div class="textInfo-wrapper">
                    <p class="label-h1">OUR SERVICE</p>
                        <!--Label can be empty and the height wil still be maintined ALSO you can include the height as well-->
                
                    <h1 class="heading title display">Payment Processing</h1>
                    <p class="display subtitle">Our solutions are designed to meet unique needs.</p>
                        <div class="image-wrapper">
                    <img src="../assets/images/hero/paymentProcessing_HeroMobile.png" alt="" width="300px">
                    </div>
                    <div class="cta-container-hero">
                        <button class="btn-primary" onclick="window.location.href='./merchant-application.html'">Apply Now</button>
                        <button class="btn-secondary" onclick="window.location.href='./payment-processing.html'">Learn More</button>
                    </div>   
                </div>
            
            </div>                

            <div class="slide-homeHero" data-bg="4">
                <div class="textInfo-wrapper">
                    <p class="label-h1">BECOME A MERCHANT</p>
                        <!--Label can be empty and the height wil still be maintined ALSO you can include the height as well-->
                
                    <h1 class="heading title display">Merchant Application</h1>
                    <p class="display subtitle">Start accepting payments with confidence.</p>
                        <div class="image-wrapper">
                    <img src="../assets/images/hero/Merchant-Application--FillForm-Optimum.jpg" alt="" width="300px">
                </div>
                    <div style="display:flex;" class="cta-container-hero">
                        <button style="width:200px;" class="btn-primary" onclick="window.location.href='./merchant-application.html'">Fill The Form</button>
                        <button style="display:none;" class="btn-secondary">Learn More</button>
                    </div>   
                </div>
            
            </div>

            <div class="slide-homeHero" data-bg="2">
                <div class="textInfo-wrapper">
                    <p class="label-h1">ROK</p>
                    
                    <h1 class="heading title display">Business Financing</h1>
                    <p class="display subtitle">Get the funding your business deserves today.</p>
                    <div class="image-wrapper">
                    <img src="../assets/images/hero/businessFinancing-rok-financial_mobileHomeHero.png" alt="" width="300px">
                    </div>
                    <div class="cta-container-hero">
                        <!-- Takes us to our partners main page through our referral - external  link -->
                        <button class="btn-primary" onclick="window.open('https://example.com', '_blank')">Get Started</button>

                        <!-- Takes us to our own webpage with our partner collab page internal  link -->
                        <button class="btn-secondary" onclick="window.location.href='./businessFinancing.html'">Learn More</button>
                    </div>   
                </div>
            
            </div>  

            <div class="slide-homeHero" data-bg="5">
                <div class="textInfo-wrapper">
                    <p class="label-h1">Just For You</p>
                        <!--Label can be empty and the height wil still be maintined ALSO you can include the height as well-->
                    
                    <h1 style="color:#333;" class="heading title display">Digital Services</h1>
                    <p  style="color:#1f1d1d;" class="display subtitle">Let's help you realize your imagination.</p>
                        <div class="image-wrapper">
                    <img src="../assets/images/hero/DigitalService--mobile-HomeHero.jpg" alt="" width="300px">
                </div>
                    <div class="cta-container-hero">
                        <button class="btn-primary" onclick="window.location.href='./digital-services-brief-submit.html'">Post a Brief</button>
                        <button class="btn-secondary digital-creative" onclick="window.location.href='./digital-services.html'">Learn More</button>
                    </div>   
                </div>
                
                <style>
                    button.btn-secondary.digital-creative{
                        color:#333;
                        border:1px solid #333;
                    }

                    button.btn-secondary.digital-creative:hover{
                        color:#333;
                        border:1px solid #686868;
                        transition: border 300ms;
                    }

                </style>



            </div>

            <div class="slide-homeHero" data-bg="1">
                <div class="textInfo-wrapper">
                    <!--Label can be empty and the height wil still be maintined ALSO you can include the height as well-->
                    <p  class="label-h1">SOLUTIONS PROVIDER</p>
                    <h1 style="color:var(--blue-500)" class="heading title display">Optimum Payments</h1>
                    <p style="color:#1f1d1d;" class="display subtitle">A full provider of payment processing and business financing.</p>
                    <div class="image-wrapper">
                        <img src="../assets/images/hero/optimum-payments-mobileHomeHero.png" alt="" width="300px" height="fit-content" >
                    </div>

                    <!-- Since we won't need a btn here so we will remove it for the moment  -->
                    <div style="display:block; visibility: hidden;" class="cta-container-hero">
                        <button class="btn-primary">Learn More</button>
                        <button class="btn-secondary">Learn More</button>
                    </div>   
                </div>
                
            </div>
        </div>
    </div>
    <!-- Home Hero Carousel End -->

    </div>

<!-- <style>
    

    /* Carousel Indicator */

    .carousel-homeHero {
    position: relative;
     user-select: none;
}


.carousel-homeHero .carousel-indicator-homeHero {
    position: absolute;
    bottom: 5%;
    left: 50%;
    transform: translate(-50%, -20%);
    display: flex;
    gap: 10px;
    z-index: 1;
}

.carousel-homeHero .carousel-indicator-homeHero .dot {
    width: 8px;
    height: 8px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 50px;
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden
}

.carousel-homeHero .carousel-indicator-homeHero .dot .progress {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 0%;
    background: #adacac;
    border-radius: 50px;
}

.carousel-homeHero .carousel-indicator-homeHero .dot.active .progress {
    animation: fillProgress linear forwards;
}

@keyframes fillProgress {
    from { width: 0%; }
    to   { width: 100%; }
}


.carousel-homeHero .carousel-indicator-homeHero .dot.active {
    width: 28px;           /* pill effect */
    background: #fff;
}


    /* Home Hero The First - Loads of POS - Supplies And Bank Image */
    .carousel-homeHero .slide-homeHero[data-bg="1"] {
        background: url('../assets/images/hero/optimum-payments-desktopHomeHero.jpg') no-repeat center/cover;
        
    }

    /* Rok Business Financing*/
    .carousel-homeHero .slide-homeHero[data-bg="2"] {       
        background: url('../assets/images/hero/desktopHero_Tabit_2-BizFinancing-Desktop.jpg') no-repeat center/cover;
    }

     /*  Payment Processing */
     
    .carousel-homeHero .slide-homeHero[data-bg="3"] {
        background: url('../assets/images/hero/paymentProcessing_HeroDesktop.png') no-repeat center/cover;
        
    }

   /* Merchant Application - Become A Merchant*/
    .carousel-homeHero .slide-homeHero[data-bg="4"] {
        background: rgb(189, 189, 84);
        background: url('../assets/images/hero/hero-full-bleed-dark.jpg') no-repeat center/cover;
    }

    /* DigitalService Slide Image; */
    .carousel-homeHero .slide-homeHero[data-bg="5"] {
        background: url('../assets/images/hero/DigitalService--desktop-HomeHero.jpg') no-repeat center/cover;
        
    }

 

.carousel-homeHero .carousel-window-homeHero {
    position: relative;
    width: 100%;
    overflow: hidden;
}

.carousel-window.homeHero{
    height: 560px;

}

.carousel-homeHero .carousel-wrapper-homeHero {
    top: 0;
    left: 0;
    height: 100%;
    position: absolute;
    width: calc(var(--slide-count, 5) * 100vw);
    display: flex;
}

#home-hero div.carousel-wrapper-homeHero-HomeHero div..slide-homeHero{
    height:100%;
}

.carousel-homeHero .slide-homeHero {
    width: 100vw;
    flex-shrink: 0;
    padding: 12px 32px;
    display: flex;
    position: relative;
    flex-direction: row;
    height:auto;
    align-items: center;
    overflow: hidden;
    box-sizing: border-box;
    background-color: rgb(70, 69, 69);
}

.carousel-homeHero .textInfo-wrapper,
.carousel-homeHero .image-wrapper {
    flex: 1;
}

.carousel-homeHero .image-wrapper {
    position: absolute;
    right: 0;
    bottom: 50%;
    transform: translate(0, 50%);
    display: flex;
    justify-content: center;
    align-items: center;
    width: 50vw;
    height: 400px;
    display:none;
}

.carousel-homeHero .textInfo-wrapper {
    position: relative;
    width: 560px;
    display: flex;
    flex-direction: column;
    padding:2%;
    padding: 4rem;
}

.carousel-homeHero .cta-container-hero{
    padding-top: 52px;
    display: flex;
    display: grid;
    grid-template-columns: repeat(2, 200px);
    gap:1rem;
}


.carousel-homeHero p.label-h1{
    color: var(--us-store-bambulab-com-yellow-orange, var(--color-orange-63, #FFBA41));
    font-family: Manrope;
    font-size: 14px;
    font-style: normal;
    font-weight: 700;
    line-height: 16.8px; /* 120% */
    min-height:16.8px;    
}

.carousel-homeHero p.display{
    color: var(--us-store-bambulab-com-alabaster, var(--color-grey-98, #FBFBFB));
    font-family: var(--font-family-Font-1, Manrope);
    font-size: var(--line-height-18, 18px);
    font-style: normal;
    font-weight: var(--font-weight-700, 700);
    line-height: var(--line-height-23_4, 23.4px); /* 130% */
    width: 340px;
    max-width: 28ch;
}
h1.heading.title{
    width:14ch;
    color: var(--us-store-bambulab-com-white, var(--color-white-solid, #FFF));
    /* us.store.bambulab.com/Semantic/Heading 1 */
    font-family: var(--font-family-Font-1, Manrope);
    font-size: var(--font-size-40, 40px);
    font-style: normal;
    font-weight: var(--font-weight-700, 700);
    line-height: var(--line-height-48, 48px); /* 120% */
    text-transform: capitalize;
}

@media (max-width:1024px) {
.carousel-homeHero .textInfo-wrapper {  
    padding:2rem;
    
}

}


/*WE ARE USING DESKTOP FIRST APPROACH*/
/*THE LAST AND SMALLEST DEVICE WILL BE 768PX*/
@media (max-width:768px) {
    .carousel-homeHero .carousel-indicator {
    position: absolute;
    bottom: 0%;
    left: 50%;
    transform: translate(-50%, 1%);
    display: flex;
    gap: 10px;
    z-index: 5;
}

   
.carousel-homeHero .slide {
    padding: 1rem 2rem;
    max-height:80%;
}

:root{
    --mobileHeroImageHeight:200px;
}

.image-wrapper img{   
    width:fit-content;
    height:var(--mobileHeroImageHeight);
}

.image-wrapper{
    overflow: hidden;
}

.carousel-homeHero .carousel-indicator{
    bottom:5%;
}

.carousel-wrapper.homeHero{
    gap:0px;
}

.carousel-homeHero .cta-container-hero{
    padding-top:0.5rem;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
     gap:1rem;

}



.carousel-homeHero .carousel-indicator .dot{
   background: rgba(122, 122, 122, 0.5);
}

.carousel-homeHero .carousel-indicator .dot.active{
        background:rgb(128, 128, 128);
}

/* Progress Bar Inside Active Dot */
.carousel-homeHero .carousel-indicator .dot {
    position: relative;
    overflow: hidden;
}

.carousel-homeHero .carousel-indicator .dot .progress {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 0%;
    background: #fff;
    border-radius: 50px;
    transition: none;
}

/* Animate only active dot */
.carousel-homeHero .carousel-indicator .dot.active .progress {
    animation: fillProgress linear forwards;
}

/* Animation duration controlled via JS */
@keyframes fillProgress {
    from { width: 0%; }
    to   { width: 100%; }
}


    .carousel-homeHero .slide {
        background: none !important;
        flex-direction: column;
        padding: 1rem;
    }

    .carousel-homeHero .textInfo-wrapper {
        width: 100%;
        align-items: center;
        padding: .5rem;
    }

    .carousel-homeHero p.display,
    .carousel-homeHero h1.heading.title {
        width: 100%;
        text-align: center;
    }


    .homeHero-carousel .image-wrapper {
        position: relative;
        width: 500px;
        transform: none;
        bottom: 0;
        max-height:200px;
    }

      .homeHero-carousel .carousel-window.home-hero {
        min-height: 614px;
        height: auto;
    }



    .homeHero-carousel p.display{
    color: var(--TypographyColors-Subtitle, #788289);
    text-align: center;

    /* BBu.Mobile.P1 */
    font-family: Manrope;
    font-size: 20px;
    font-style: normal;
    font-weight: 400;
    line-height: 30px; /* 150% */
    }

    .homeHero-carousel h1.heading.title{
    color: var(--TypographyColors-Title, #18374E);
    text-align: center;

    /* Mobile.H1 */
    font-family: Inter;
    font-size: 44px;
    font-style: normal;
    font-weight: 700;
    line-height: 52.8px; /* 120% */
    }


    .homeHero-carousel .image-wrapper {
        display: flex;
    }

    .homeHero-carousel .image-wrapper{
        border:none;
    }
}

</style> -->

<style>
    /* ===============================
   HOME HERO CAROUSEL - PERSONALIZED
   =============================== */

/* Carousel Container */
.carousel-homeHero {
    position: relative;
    user-select: none;
}

/* Carousel Window */
.carousel-window-homeHero {
    position: relative;
    width: 100%;
    overflow: hidden;
    height: 560px;
}

/* Wrapper for slides */
.carousel-wrapper-homeHero {
    top: 0;
    left: 0;
    height: 100%;
    position: absolute;
    width: calc(var(--slide-count, 5) * 100vw);
    display: flex;
}

/* Individual Slides */
.slide-homeHero {
    width: 100vw;
    flex-shrink: 0;
    padding: 12px 32px;
    display: flex;
    position: relative;
    flex-direction: row;
    height: auto;
    align-items: center;
    overflow: hidden;
    box-sizing: border-box;
    background-color: rgb(70, 69, 69);
}

/* Slide Backgrounds */
.slide-homeHero[data-bg="1"] {
    background: url('../assets/images/hero/optimum-payments-desktopHomeHero.jpg') no-repeat center/cover;
}
.slide-homeHero[data-bg="2"] {
    background: url('../assets/images/hero/desktopHero_Tabit_2-BizFinancing-Desktop.jpg') no-repeat center/cover;
}
.slide-homeHero[data-bg="3"] {
    background: url('../assets/images/hero/paymentProcessing_HeroDesktop.png') no-repeat center/cover;
}
.slide-homeHero[data-bg="4"] {
    background: url('../assets/images/hero/hero-full-bleed-dark.jpg') no-repeat center/cover;
}
.slide-homeHero[data-bg="5"] {
    background: url('../assets/images/hero/DigitalService--desktop-HomeHero.jpg') no-repeat center/cover;
}

/* Slide Content Wrappers */
.textInfo-wrapper-homeHero,
.image-wrapper-homeHero {
    flex: 1;
}

.textInfo-wrapper-homeHero {
    position: relative;
    width: 560px;
    display: flex;
    flex-direction: column;
    padding: 4rem;
}

.image-wrapper-homeHero {
    position: absolute;
    right: 0;
    bottom: 50%;
    transform: translate(0, 50%);
    display: flex;
    justify-content: center;
    align-items: center;
    width: 50vw;
    height: 400px;
    display: none;
}

/* Call to Action Container */
.cta-container-hero-homeHero {
    padding-top: 52px;
    display: grid;
    grid-template-columns: repeat(2, 200px);
    gap: 1rem;
}

/* Labels & Typography */
p.label-h1-homeHero {
    color: var(--us-store-bambulab-com-yellow-orange, #FFBA41);
    font-family: Manrope;
    font-size: 14px;
    font-weight: 700;
    line-height: 16.8px;
    min-height: 16.8px;
}

p.display-homeHero {
    color: var(--us-store-bambulab-com-alabaster, #FBFBFB);
    font-family: Manrope;
    font-size: 18px;
    font-weight: 700;
    line-height: 23.4px;
    width: 340px;
    max-width: 28ch;
}

h1.heading-title-homeHero {
    width: 14ch;
    color: var(--us-store-bambulab-com-white, #FFF);
    font-family: Manrope;
    font-size: 40px;
    font-weight: 700;
    line-height: 48px;
    text-transform: capitalize;
}

/* Carousel Indicator */
.carousel-indicator-homeHero {
    position: absolute;
    bottom: 5%;
    left: 50%;
    transform: translate(-50%, -20%);
    display: flex;
    gap: 10px;
    z-index: 1;
}

.carousel-indicator-homeHero .dot-homeHero {
    width: 8px;
    height: 8px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 50px;
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.carousel-indicator-homeHero .dot-homeHero .progress-homeHero {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 0%;
    background: #adacac;
    border-radius: 50px;
}

.carousel-indicator-homeHero .dot-homeHero.active-homeHero {
    width: 28px;
    background: #fff;
}

.carousel-indicator-homeHero .dot-homeHero.active-homeHero .progress-homeHero {
    animation: fillProgress-homeHero linear forwards;
}

@keyframes fillProgress-homeHero {
    from { width: 0%; }
    to   { width: 100%; }
}

/* ===============================
   MEDIA QUERIES
   =============================== */
@media (max-width: 1024px) {
    .textInfo-wrapper-homeHero {
        padding: 2rem;
    }
}

@media (max-width: 768px) {
    .carousel-indicator-homeHero {
        bottom: 0%;
        transform: translate(-50%, 1%);
    }

    .slide-homeHero {
        flex-direction: column;
        padding: 1rem;
        max-height: 80%;
        background: none !important;
    }

    .textInfo-wrapper-homeHero {
        width: 100%;
        align-items: center;
        padding: 0.5rem;
    }

    p.display-homeHero,
    h1.heading-title-homeHero {
        width: 100%;
        text-align: center;
    }

    .image-wrapper-homeHero {
        position: relative;
        width: 500px;
        transform: none;
        bottom: 0;
        max-height: 200px;
        display: flex;
    }

    .cta-container-hero-homeHero {
        padding-top: 0.5rem;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }

    .carousel-window-homeHero {
        min-height: 614px;
        height: auto;
    }

    p.display-homeHero {
        color: #788289;
        font-size: 20px;
        font-weight: 400;
        line-height: 30px;
        text-align: center;
    }

    h1.heading-title-homeHero {
        color: #18374E;
        font-size: 44px;
        line-height: 52.8px;
        text-align: center;
    }
}

</style>
<!-- GOOD -->
 <!-- <script> 
    
    const root = document.querySelector(".homeHero-carousel");
const wrapper = root.querySelector(".carousel-wrapper-homeHero");
const indicator = root.querySelector(".carousel-indicator");

let slides = root.querySelectorAll(".carousel-wrapper-homeHero .slide");
let index = 1;
const autoSlideTime = 3000;
let interval = null;

/* Clone first & last slides for infinite loop */
const firstClone = slides[0].cloneNode(true);
const lastClone = slides[slides.length - 1].cloneNode(true);
firstClone.classList.add("clone");
lastClone.classList.add("clone");
wrapper.appendChild(firstClone);
wrapper.insertBefore(lastClone, slides[0]);

slides = root.querySelectorAll(".carousel-wrapper-homeHero .slide");
let slideWidth = slides[0].clientWidth;
let dragThreshold = slideWidth * 0.2;
wrapper.style.transform = `translateX(-${slideWidth * index}px)`;

/* Indicator Setup */
const realSlideCount = slides.length - 2;
for (let i = 0; i < realSlideCount; i++) {
    const dot = document.createElement("span");
    dot.classList.add("dot");
    dot.dataset.index = i + 1;
    const progress = document.createElement("span");
    progress.classList.add("progress");
    dot.appendChild(progress);
    indicator.appendChild(dot);
}

function resetProgressBars() {
    indicator.querySelectorAll(".progress").forEach(bar => {
        bar.style.animation = "none";
        bar.offsetHeight; // force reflow
        bar.style.animation = "";
    });
}

function startProgressBar() {
    const active = indicator.querySelector(".dot.active .progress");
    if (!active) return;
    active.style.animationDuration = `${autoSlideTime}ms`;
}

function updateIndicator(slideChanged = true) {
    const dots = indicator.querySelectorAll(".dot");
    dots.forEach(dot => dot.classList.remove("active"));
    let activeIndex = index - 1;
    if (activeIndex < 0) activeIndex = realSlideCount - 1;
    if (activeIndex >= realSlideCount) activeIndex = 0;
    dots[activeIndex].classList.add("active");
    if (slideChanged) {
        resetProgressBars();
        startProgressBar();
    }
}

/* Initial setup */
updateIndicator(false);

/* Slide Controls */
function nextSlide() {
    index++;
    moveToIndex(true);
}

function moveToIndex(slideChanged = true) {
    wrapper.style.transition = "transform 0.5s ease-in-out";
    wrapper.style.transform = `translateX(-${slideWidth * index}px)`;
    updateIndicator(slideChanged);
}

/* Infinite loop fix */
wrapper.addEventListener("transitionend", () => {
    if (!slides[index].classList.contains("clone")) return;
    wrapper.style.transition = "none";
    if (index === 0) index = slides.length - 2;
    else if (index === slides.length - 1) index = 1;
    wrapper.style.transform = `translateX(-${slideWidth * index}px)`;
    updateIndicator(false); // no reset
});

/* Autoplay */
function startAutoSlide() { interval = setInterval(nextSlide, autoSlideTime); }
function stopAutoSlide() { clearInterval(interval); }
startAutoSlide();

/* Dot click */
indicator.addEventListener("click", (e) => {
    const dot = e.target.closest(".dot");
    if (!dot) return;
    index = Number(dot.dataset.index);
    moveToIndex(true); // only reset progress on slide change
});

/* Drag / Swipe */
let isDragging = false, startX = 0, currentTranslate = 0, prevTranslate = 0, animationID = null;
function getPositionX(e) { return e.type.includes("mouse") ? e.pageX : e.touches[0].clientX; }
function setSliderPosition() { wrapper.style.transform = `translateX(${currentTranslate}px)`; }
function animation() { if (isDragging) { setSliderPosition(); requestAnimationFrame(animation); } }
function dragStart(e) { isDragging = true; startX = getPositionX(e); prevTranslate = -slideWidth * index; wrapper.style.transition = "none"; animationID = requestAnimationFrame(animation); }
function dragMove(e) { if (!isDragging) return; currentTranslate = prevTranslate + getPositionX(e) - startX; }
function dragEnd() {
    cancelAnimationFrame(animationID);
    isDragging = false;
    const movedBy = currentTranslate - prevTranslate;
    let slideChanged = false;
    if (movedBy < -dragThreshold) { index++; slideChanged = true; }
    else if (movedBy > dragThreshold) { index--; slideChanged = true; }
    index = Math.max(0, Math.min(index, slides.length - 1));
    moveToIndex(slideChanged); // reset progress only if slide changed
    syncTranslate();
}

wrapper.addEventListener("mousedown", dragStart);
window.addEventListener("mousemove", dragMove);
window.addEventListener("mouseup", dragEnd);
wrapper.addEventListener("touchstart", dragStart, { passive: true });
wrapper.addEventListener("touchmove", dragMove, { passive: true });
wrapper.addEventListener("touchend", dragEnd);

/* Prevent image dragging */
wrapper.querySelectorAll("img").forEach(img => img.addEventListener("dragstart", e => e.preventDefault()));

/* Helpers */
function syncTranslate() { prevTranslate = -slideWidth * index; currentTranslate = prevTranslate; }
syncTranslate();

/* Resize */
window.addEventListener("resize", () => {
    slideWidth = slides[0].clientWidth;
    dragThreshold = slideWidth * 0.2;
    wrapper.style.transition = "none";
    wrapper.style.transform = `translateX(-${slideWidth * index}px)`;
    syncTranslate();
});

</script>  -->

<script>
function initHomeHeroCarousel(root) {
    const wrapper = root.querySelector(".carousel-wrapper-homeHero");
    const indicator = root.querySelector(".carousel-indicator-homeHero");
    let slides = root.querySelectorAll(".slide-homeHero");
    let index = 1;
    const autoSlideTime = 3000;
    let interval = null;

    /* Clone first & last slides for infinite loop */
    const firstClone = slides[0].cloneNode(true);
    const lastClone = slides[slides.length - 1].cloneNode(true);
    firstClone.classList.add("clone-homeHero");
    lastClone.classList.add("clone-homeHero");
    wrapper.appendChild(firstClone);
    wrapper.insertBefore(lastClone, slides[0]);
    slides = root.querySelectorAll(".slide-homeHero");

    let slideWidth = slides[0].clientWidth;
    let dragThreshold = slideWidth * 0.2;
    wrapper.style.transform = `translateX(-${slideWidth * index}px)`;

    /* Setup indicator dots */
    const realSlideCount = slides.length - 2;
    for (let i = 0; i < realSlideCount; i++) {
        const dot = document.createElement("span");
        dot.classList.add("dot-homeHero");
        dot.dataset.index = i + 1;

        const progress = document.createElement("span");
        progress.classList.add("progress-homeHero");

        dot.appendChild(progress);
        indicator.appendChild(dot);
    }

    function resetProgressBars() {
        indicator.querySelectorAll(".progress-homeHero").forEach(bar => {
            bar.style.animation = "none";
            bar.offsetHeight; // force reflow
            bar.style.animation = "";
        });
    }

    function startProgressBar() {
        const active = indicator.querySelector(".dot-homeHero.active-homeHero .progress-homeHero");
        if (!active) return;
        active.style.animationDuration = `${autoSlideTime}ms`;
    }

    function updateIndicator(slideChanged = true) {
        const dots = indicator.querySelectorAll(".dot-homeHero");
        dots.forEach(dot => dot.classList.remove("active-homeHero"));

        let activeIndex = index - 1;
        if (activeIndex < 0) activeIndex = realSlideCount - 1;
        if (activeIndex >= realSlideCount) activeIndex = 0;

        dots[activeIndex].classList.add("active-homeHero");

        if (slideChanged) {
            resetProgressBars();
            startProgressBar();
        }
    }

    /* Slide movement */
    function moveToIndex(slideChanged = true) {
        wrapper.style.transition = "transform 0.5s ease-in-out";
        wrapper.style.transform = `translateX(-${slideWidth * index}px)`;
        updateIndicator(slideChanged);
    }

    function nextSlide() { index++; moveToIndex(true); }

    /* Infinite loop fix */
    wrapper.addEventListener("transitionend", () => {
        if (!slides[index].classList.contains("clone-homeHero")) return;

        wrapper.style.transition = "none";
        if (index === 0) index = slides.length - 2;
        else if (index === slides.length - 1) index = 1;
        wrapper.style.transform = `translateX(-${slideWidth * index}px)`;
        updateIndicator(false);
    });

    /* Autoplay */
    function startAutoSlide() { interval = setInterval(nextSlide, autoSlideTime); }
    function stopAutoSlide() { clearInterval(interval); }
    startAutoSlide();

    /* Dot click navigation */
    indicator.addEventListener("click", (e) => {
        const dot = e.target.closest(".dot-homeHero");
        if (!dot) return;
        index = Number(dot.dataset.index);
        moveToIndex(true);
    });

    /* Drag / swipe */
    let isDragging = false, startX = 0, currentTranslate = 0, prevTranslate = 0, animationID = null;
    function getPositionX(e) { return e.type.includes("mouse") ? e.pageX : e.touches[0].clientX; }
    function setSliderPosition() { wrapper.style.transform = `translateX(${currentTranslate}px)`; }
    function animation() { if (isDragging) { setSliderPosition(); requestAnimationFrame(animation); } }
    function dragStart(e) { isDragging = true; startX = getPositionX(e); prevTranslate = -slideWidth * index; wrapper.style.transition = "none"; animationID = requestAnimationFrame(animation); }
    function dragMove(e) { if (!isDragging) return; currentTranslate = prevTranslate + getPositionX(e) - startX; }
    function dragEnd() {
        cancelAnimationFrame(animationID);
        isDragging = false;
        const movedBy = currentTranslate - prevTranslate;
        let slideChanged = false;
        if (movedBy < -dragThreshold) { index++; slideChanged = true; }
        else if (movedBy > dragThreshold) { index--; slideChanged = true; }
        index = Math.max(0, Math.min(index, slides.length - 1));
        moveToIndex(slideChanged);
        prevTranslate = -slideWidth * index;
        currentTranslate = prevTranslate;
        startAutoSlide();
    }

    wrapper.addEventListener("mousedown", dragStart);
    window.addEventListener("mousemove", dragMove);
    window.addEventListener("mouseup", dragEnd);
    wrapper.addEventListener("touchstart", dragStart, { passive: true });
    wrapper.addEventListener("touchmove", dragMove, { passive: true });
    wrapper.addEventListener("touchend", dragEnd);

    /* Prevent image dragging */
    wrapper.querySelectorAll("img").forEach(img => img.addEventListener("dragstart", e => e.preventDefault()));

    /* Handle resize */
    window.addEventListener("resize", () => {
        slideWidth = slides[0].clientWidth;
        dragThreshold = slideWidth * 0.2;
        wrapper.style.transition = "none";
        wrapper.style.transform = `translateX(-${slideWidth * index}px)`;
        prevTranslate = -slideWidth * index;
        currentTranslate = prevTranslate;
    });

    /* Initial indicator setup */
    updateIndicator(false);
}

/* Initialize the carousel */
document.querySelectorAll(".carousel-homeHero").forEach(carousel => initHomeHeroCarousel(carousel));
</script>
