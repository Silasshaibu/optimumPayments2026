<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home-TopCategorySection Only</title>
    <link rel="stylesheet" href="../assets/css/style-guide.css">
</head>

<style>
            /*LINKED TOP SELLING PRODUCTS STYLING*/
            :root {
                --slide-and-container-width-singularUnit: 83vw;
                --slide-and-container-height: 400px;
                /* controls the slide viewer width per slide*/
                /*We are using 1200px or 83vw or 83%*/
            }
            
            .topCategory-title{
                color: var(--us-store-bambulab-com-black-88, var(--color-black-88, rgba(0, 0, 0, 0.88)));
                /* us.store.bambulab.com/Semantic/Heading 2 */
                font-family: var(--font-family-Font-1, Manrope);
                font-size: var(--font-size-34, 34px);
                font-style: normal;
                font-weight: var(--font-weight-700, 700);
                line-height: var(--line-height-44_2, 44.2px); /* 130% */
            }     

            .topCategory-section{
                display: flex;
                width: var(--slide-and-container-width-singularUnit);
                flex-direction: column;
                justify-content: center;
                align-items: stretch;
                margin:0 auto;
                gap: 2rem;
            }
        
            .topCategory-productTitle{
                font-size: var(--font-size-24, 24px);
                font-style: normal;
                font-weight: var(--font-weight-700, 700);
                line-height: var(--line-height-31_2, 31.2px); /* 130% */
            }

            .topCategory-productSummary{
                font-size: var(--font-size-12, 12px);
                font-style: normal;
                font-weight: var(--font-weight-400, 400);
                line-height: var(--line-height-18, 18px); /* 150% */
                padding-right:60%;
                padding-bottom: 2.5rem;
            }

            .btn-topCategory-products{         
                font-size: 1rem;
                font-style: normal;
                font-weight: var(--font-weight-400, 400);
                line-height: var(--line-height-18, 18px); /* 150% */
                border-radius: 8px;
                background-color: transparent;
                padding:.8rem 2rem;
                border: 1px solid var(--Primary-Btn, #3C88C3);       
                color:var(--Primary-Btn);
                position: absolute;
                bottom:1rem;
            }

            .btn-topCategory-products:hover{              
                color:var(--Primary-Btn);
                background-color: var(--Primary-Btn);
                color:white;
            }

            .btn-topCategory-products span svg.icon{
                transform: translate(3px, 3px);

            }

            .topCategory-wrapper.is-grid {
                display: grid;
            }

            .topCategory-header{
                display: flex;
                align-content: center;
                justify-content: space-between;
                position: relative;                
            }
            
            .topCategory-carousel{
                width: 85vw;
                overflow: hidden;
                position: relative;
                height:275px;
            }

            .topCategory-controls span svg.icon{
                width: 1rem;
                height:1rem;
                margin: 0rem 0.25rem;
            }

            .topCategory-wrapper{
                position: absolute;
                height:275px;
                display: flex;
                column-gap:1rem;
            }

            .topCategory-product{
                width: calc(42.5vw - 0.5rem);  /* (topCategory-wrapper width / 2) - (column-gap/2) calculate the container divided by number of product to be seen per window minus the gap*/
                padding:4rem 2rem;
                position: relative;       
                background-position: center;
                background-repeat: no-repeat;
                background-size: contain;  
            }        

            .topCategory-productLinkMobile{
                display: none;
                padding:1rem 0px;
            }

            .topCategory-controls{
                position: relative;
                display:flex;
                align-items: center;
            }

            .icon.topCategory-leftArrow, .icon.topCategory-rightArrow{
                transform:translateY(3px);
            }

            .topCategory-viewAllBtn{
                color:#333;
            }

            .topCategory-bottomControls-foot{
                display: flex;
                padding-top:2rem;
                flex-direction: row;
                justify-content: end;
                align-items: center;
            }

            /* TOGGLE EXTRA CHANGES IN GRID VIEW */   
            .topCategory-wrapper.is-grid .topCategory-product {
            height: auto;
            }

         /*View All Toggle Grid Carousel Collapse And Expand start*/
            /* ===============================
            DESKTOP â€“ VIEW ALL (GRID)
            ================================ */
            .topCategory-wrapper.is-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* Desktop default */
            transform: none !important;
            }

            /* Hide arrows when in grid mode (desktop + all sizes) */
            .topCategory-header .topCategory-controls {
            transition: opacity 0.2s ease;
            }

            /*CAROUSEL MODE (DEFAULT â†’ View less state)*/
            .topCategory-carousel {
                overflow: hidden;
                height: 279px;
                position: relative;
            }

            .topCategory-wrapper {
                position: absolute;
                display: flex;
                height: 279px;
                gap: 0;
                column-gap: 1rem;
            }

            .topCategory-product {
                height: 275px;
            }

            /*GRID MODE (View all clicked)*/
            .topCategory-section.is-grid .topCategory-carousel {
                overflow: visible;
                height: auto;
                position: relative;
            }

            .topCategory-section.is-grid .topCategory-wrapper {
                position: relative;
                display: grid;
                height: auto;
                gap: 1rem;
                grid-template-columns: repeat(2, 1fr); /* >768px */
                transform: none !important;
            }

            .topCategory-section.is-grid .topCategory-product {
                height: 350px;
            }


           /*View All Toggle Grid Carousel Collapse And Expand end*/

          @media (max-width: 1024px) {
             :root {
                --slide-and-container-width-singularUnit: 94vw;
            }

            .topCategory-section{
                display: flex;
                width: var(--slide-and-container-width-singularUnit);
            }

           

            
            


                        /* ===============================
            TOP SELLING ONLY â€“ GRID MODE
            ================================ */
            .topCategory-section.is-grid .topCategory-carousel {
            overflow: visible;
            height: auto;
            }

            .topCategory-section.is-grid .topCategory-wrapper {
            display: grid;
            position: relative;
            grid-template-columns: repeat(2, 1fr);
            transform: none !important;
            width: 100%;
            }

            .topCategory-carousel {
                overflow: hidden;
                }

            .topCategory-wrapper {
                display: flex;
                gap: 24px;
                transition: transform 0.4s ease;
            }

            /*View All Toggle Grid Carousel Collapse And Expand start*/
            /* ===============================
                TABLET
                ================================ */
            .topCategory-wrapper.is-grid {
                grid-template-columns: repeat(3, 1fr);
            }  
            /*View All Toggle Grid Carousel Collapse And Expand start*/

        }

  
        @media (max-width:768px){
            /*On mobile allow horizonatal scroll but make the bars invinsible*/
            .topCategory-product{
                width: calc(42.5vw - 0.3rem);  /* (topCategory-wrapper width / 2) - (column-gap/2) calculate the container divided by number of product to be seen per window minus the gap*/
                padding:0rem .5rem;
                position: relative; 
                background-position: center;
                background-repeat: no-repeat;
                background-size: contain; 
                display: flex;
                flex-direction: column;
                align-content: stretch;  
                justify-content: space-between; 
            }     

            .topCategory-productSummary{
                padding:0rem;
            }

       
                .topCategory-header, .topCategory-carousel {
                width: 95vw;
                }

                .btn-topCategory-products{
                    padding:0rem 0rem;
                    border:none;
                    position: relative;
                    left:0;
                    order:1;
                }

                .btn-topCategory-products.btn-Mini{
                    width: 100%;
                    border-radius: 0%;
                }

                .topCategory-product{
                    gap:0rem;
                    justify-content: space-around;
                }

                .topCategory-productSummary{
                    order:2;
                }

                .topCategory-productTitle{
                    text-align: center;
                    color: #111827;
                    font-size: 20px;
                    font-style: normal;
                    font-weight: 700;
                    line-height: 2rem; /* 140% */
                }

                .btn-topCategory-products.topCategory-productBtnDesktop{
                    /* position: absolute; */
                    display: none;
                }

                .btn-topCategory-products.topCategory-productBtnDesktop.topCategory{
                    position: absolute;
                }


                .topCategory-productLinkMobile{
                    display: flex;
                    padding: 0px;
                    justify-content: center;
                    align-items: center;
                    margin: 0 auto;
                }

                .topCategory-productLinkMobile .icon{
                    transform: translateY(2.5px);
                }

                .topCategory-productLinkMobile:hover {
                    transform: translateX(2.5px);
                }

                .topCategory-productLinkMobile{
                    color: var(--TypographyColors-Link, #63A0CF);
                    font-size: .95rem;
                    font-style: normal;
                    font-weight: 500;
                    line-height: 1.2rem; /* 142.857% */
                }

                .topCategory-productLinkMobile:hover{
                    font-size: .95rem;
                    line-height: 1.2rem; /* 142.857% */  
                    cursor: pointer;
                }

                .topCategory-title{
                    color: #111827;
                    text-align: center;
                    /* BBu.Mobile.H2 */
                    font-family: Manrope;
                    font-size: 1.5rem;
                    font-style: normal;
                    font-weight: 700;
                    line-height: 30px; /* 125% */
                }

                

              

           
                 /*View All Toggle Grid Carousel Collapse And Expand start*/
                /* ===============================
                MOBILE
                ================================ */
                .topCategory-wrapper.is-grid {
                    grid-template-columns: repeat(2, 1fr);
                }
                 /*View All Toggle Grid Carousel Collapse And Expand end*/
        }     


        /*MOBILE SINGLE UNIT PRODUCT VIEW*/
        @media (max-width:550px){

                .topCategory-leftArrow, .topCategory-rightArrow {
                    display: none !important;
                }

                h2.topCategory-title{
                    text-align: center;
                    margin:0 auto;                
                }

                
                .topCategory-header.head{
                    position: relative;                    
                    }

                .topCategory-header{
                    width:95vw;
                    /* background-color: red; */
                }

                /*TopCategory--Carousel start*/
                .topCategory-carousel, .topCategory-product{
                    width: 95vw;
                }

                 .topCategory-carousel {
                    overflow-x: auto;
                    overflow-y: hidden;
                    -webkit-overflow-scrolling: touch;
                    scroll-snap-type: x mandatory;
                    height: 320px;
                    
                }

                .topCategory-wrapper {
                    position: relative;
                    display: flex;
                    gap: 16px;
                    padding-left:1rem;
                    padding-right: 1rem; /* allows 1.5 item view */
                }

                .topCategory-product {
                    flex: 0 0 100%;
                    scroll-snap-align: start;
                    margin-top:24px;
                    
                }

                 .topCategory-section.is-grid .topCategory-carousel {
                    overflow: hidden;     /* ðŸ”‘ disable scrolling */
                    height: auto;
                }

                .topCategory-section.is-grid .topCategory-wrapper {
                    display: grid;
                    grid-template-columns: 1fr;
                    gap: 1rem;
                    padding-right: 0;
                    overflow: visible;
                }

                .topCategory-section.is-grid .topCategory-product {
                    width: 100%;
                    height: 275px;
                }

                /*TopCategory--Carousel End*/


                .topCategory-wrapper{
                    column-gap:0rem;
                }

                .topCategory-productSummary{
                    font-size: 1rem;
                    background-color: white;
                    padding:.5rem;
                    /* border:1px solid black; */
                    position: absolute;
                    bottom:0;
                    transform: translateY(10px);
                    height:auto;
                    width: 98%;
                    /* background-color: orange; */
                    height:56px;
                }

                .topCategory-controls{
                    position: absolute;
                    bottom: 0%;
                    right: 0;
                    display: flex;
                }

                .topCategory-productTitle{
                    position: absolute;
                    top:0;
                    left:50%;
                    transform: translateX(-50%);
                }

                .topCategory-section{
                    padding-right:0rem;
                    padding-left:0rem;
                }
            

                /* FOR MOBILE*/
                    .topCategory-bottomControls-foot{
                        position: relative;
                        display: flex;
                        flex-direction: row;
                        justify-content: end;
                        align-items: center;
                    }

                    .topCategory-bottomControls-foot .icon{
                        transform: translateY(2.5px);
                    }
            }

       
</style>


<body>

    <!-- Replace navbar here -->
    <header class="site-header" role="banner">
        <div class="container">
            <a class="site-logo" href="/index.html">
                <img src="/assets/images/logo/logo.png" alt="Optimum Payments" />
            </a>

            <nav class="main-nav" role="navigation" aria-label="Primary">
                <ul>
                    <li><a href="../pages/home.html">Home</a></li>
					<li><a href="../pages/promo.html">Promo</a></li>
					<li><a href="../pages/processing-solutions.html">Processing Solutions</a></li>
					<li><a href="../pages/digital-services.html">Digital Services</a></li>
					<li><a href="../pages/business-financing.html">Business Financing</a></li>
					<li><a href="../pages/about.html">About Us</a></li>
					<li><a href="../pages/contact-us.html">Contact Us</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Content body -->

    
  
<!-- TopSellingProductSection Start -->
    <section class="topCategory-section">
        <div class="topCategory-HeadAndBodyContainer">
            <!-- Head -->
            <div class="topCategory-header">
                <h2 class="topCategory-title">Top Selling Products</h2>
                <div class="topCategory-controls">
                    <!--Left Caret Arrow-->
                    <span>                            
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-leftArrow">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
                        </svg>
                    </span>

                    <!--Right Caret Arrow-->
                    <span>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-rightArrow">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                        </svg>
                    </span>
                    
                </div>
            </div>
        
            <!-- Body -->
            <div class="topCategory-carousel">
                <div class="topCategory-wrapper">      
                    
                    <!-- Product Item -->
                    <div class="topCategory-product" style="background-image: url(../assets/images/products/topSellingProducts/cloverMiniDevice.jpg);">
                        <h3 class="topCategory-productTitle">Valor VP 550<br class="topCategory-breakLineTitle">
                            <a class="topCategory-productLinkMobile">Learn More
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-rightArrowcaret">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                                    </svg>
                                </span>
                            </a>
                        </h3>
                    
                        <p class="topCategory-productSummary">The Smart Android Counterop that eliminates charge to the merchant</p>
                        <button class="btn-topCategory-products topCategory-productBtnDesktop">Learn More <span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-rightArrowcaret">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                            </svg>
                            </span>
                        </button>                       
                    </div>

                    <!-- Product Item -->
                    <div class="topCategory-product" style="background-image: url(../assets/images/products/topSellingProducts/cloverMiniDevice.jpg);">
                        <h3 class="topCategory-productTitle">Clover Mini<br class="topCategory-breakLineTitle">
                            <a class="topCategory-productLinkMobile">Learn More
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-rightArrowcaret">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                                    </svg>
                                </span>
                            </a></h3>
                    
                        <p class="topCategory-productSummary">The Smart Android Counterop that eliminates charge to the merchant</p>
                        <button class="btn-topCategory-products topCategory-productBtnDesktop">Learn More 
                            <span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-rightArrowcaret">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                            </svg>
                            </span>
                        </button>                       
                    </div>

                    <!-- Product Item -->
                    <div class="topCategory-product" style="background-image: url(../assets/images/products/topSellingProducts/cloverMiniDevice.jpg);">
                        <h3 class="topCategory-productTitle">Clover Flex<br class="topCategory-breakLineTitle">
                            <a class="topCategory-productLinkMobile">Learn More
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-rightArrowcaret">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                                    </svg>
                                </span>
                            </a></h3>
                    
                        <p class="topCategory-productSummary">The Smart Android Counterop that eliminates charge to the merchant</p>
                        <button class="btn-topCategory-products topCategory-productBtnDesktop"> Learn More 
                            <span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-rightArrowcaret">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                            </svg>
                            </span>
                        </button>                       
                    </div> 
                    
                    <!-- Product Item -->
                    <div class="topCategory-product" style="background-image: url(../assets/images/products/topSellingProducts/cloverMiniDevice.jpg);">
                        <h3 class="topCategory-productTitle">Valor VP800<br class="topCategory-breakLineTitle">
                            <a class="topCategory-productLinkMobile">Learn More
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-rightArrowcaret">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                                    </svg>
                                </span>
                            </a></h3>
                    
                        <p class="topCategory-productSummary">The Smart Android Counterop that eliminates charge to the merchant</p>
                        <button class="btn-topCategory-products topCategory-productBtnDesktop">Learn More 
                            <span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon topCategory-rightArrowcaret">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                            </svg>
                            </span>
                        </button>                       
                    </div> 
                    
            </div>
            </div>

            <!-- Foot -->
            <div class="topCategory-footer">                     
                <!-- This should convert the carousel into a 1  by x grid system -->
                <div class="topCategory-bottomControls-foot">
                    <!--Mobile Right Caret Arrow--> 
                    <a id="topCategoryViewAll" class="topCategory-viewAllBtn" role="button" aria-expanded="false">
                        <span class="topCategory-viewAllLabel">View all</span>
                        <span class="topCategory-viewAllIcon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke-width="1.5" stroke="currentColor" class="icon rightTopCategoryMobileArrow">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                            </svg>
                        </span>
                    </a>
                        
                    
                </div>
            </div>
        </div>
    </section>
      
<!-- Carousel Script --> 



<!-- TopSellingProductSection CSS --> 
        

<!-- TopSellingProductSection JS --> 



<!-- NEW -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
    /* ===============================
       ELEMENTS
    =============================== */

    const topCategorySection = document.querySelector(".topCategory-section");
    if (!topCategorySection) return;

    const topCategoryWrapper = topCategorySection.querySelector(".topCategory-wrapper");
    const topCategoryProducts = topCategorySection.querySelectorAll(".topCategory-product");
    const topCategoryLeftArrow = topCategorySection.querySelector(".topCategory-leftArrow");
    const topCategoryRightArrow = topCategorySection.querySelector(".topCategory-rightArrow");
    const topCategoryHeader = topCategorySection.querySelector(".topCategory-header");
    const topCategoryViewAllBtn = document.getElementById("topCategoryViewAll");

    if (!topCategoryWrapper || !topCategoryProducts.length) return;

    let currentIndex = 0;

    /* ===============================
       CAROUSEL HELPERS
    =============================== */

    function getSlideWidth() {
        const firstCard = topCategoryProducts[0];
        const gap = parseFloat(getComputedStyle(topCategoryWrapper).columnGap) || 16;
        return firstCard.offsetWidth + gap;
    }

    function getVisibleItems() {
        return window.innerWidth <= 550 ? 1 : 2;
    }

    function updateTopCategoryCarousel() {
        if (topCategorySection.classList.contains("is-grid")) return;

        const maxIndex = topCategoryProducts.length - getVisibleItems();
        currentIndex = Math.max(0, Math.min(currentIndex, maxIndex));

        topCategoryWrapper.style.transform =
            `translateX(-${currentIndex * getSlideWidth()}px)`;
        topCategoryWrapper.style.transition = "transform 0.5s ease";
    }

    /* ===============================
       CAROUSEL CONTROLS
    =============================== */

    topCategoryRightArrow?.addEventListener("click", () => {
        currentIndex++;
        updateTopCategoryCarousel();
    });

    topCategoryLeftArrow?.addEventListener("click", () => {
        currentIndex--;
        updateTopCategoryCarousel();
    });

    window.addEventListener("resize", updateTopCategoryCarousel);

    /* ===============================
       VIEW ALL / GRID TOGGLE
    =============================== */

    const topCategoryViewAllLabel =
    topCategoryViewAllBtn.querySelector(".topCategory-viewAllLabel");

    topCategoryViewAllBtn.addEventListener("click", () => {
        const isGrid = topCategorySection.classList.toggle("is-grid");

        topCategoryViewAllLabel.textContent = isGrid ? "View less" : "View all";

        topCategoryViewAllBtn.setAttribute("aria-expanded", isGrid.toString());

        // Reset carousel position when exiting grid
        if (!isGrid) {
            currentIndex = 0;
            updateTopCategoryCarousel();
        }
    });

    /* ===============================
       PRODUCT SUMMARY TRUNCATION
    =============================== */

    const maxChars = 55;
    const productSummaries =
        topCategorySection.querySelectorAll(".topCategory-productSummary");

    productSummaries.forEach(summary => {
        const text = summary.textContent.trim();
        if (text.length > maxChars) {
            summary.textContent = text.slice(0, maxChars) + "â€¦";
        }
    });
});

</script>


     <script>
        /* ===============================
   VIEW ALL (GRID) / VIEW LESS (CAROUSEL)
=============================== */

const topCategoryViewAllLabel =
    topCategoryViewAllBtn.querySelector(".topCategory-viewAllLabel");

topCategoryViewAllBtn.addEventListener("click", () => {
    const isGrid = topCategorySection.classList.toggle("is-grid");

    // Button always shows the NEXT action
    topCategoryViewAllLabel.textContent = isGrid ? "View less" : "View all";
    topCategoryViewAllBtn.setAttribute("aria-expanded", isGrid.toString());

    if (!isGrid) {
        // Returning to carousel
        currentIndex = 0;
        updateTopCategoryCarousel();
    }
});

     </script>

    
    
</body>
</html>